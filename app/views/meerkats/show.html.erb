<div class="d-flex">
  <div id="show-info-container" class="col-lg-6">
    <h2><%= @meerkat.name %></h2>
    <h3><%= @meerkat.specialty %></h3>
    <p><%= @meerkat.age %> years old</p>
    <p>from <%= @meerkat.location.capitalize %></p>
    <p><%= @meerkat.description %></p>
    <p>Overall service rating:</p>
    <p>★★★★★</p>
  </div>

  <div id="show-image-container" class="col-lg-6">
    <div id="show-image" style="background-image: url('<%= image_path(photo_or_fallback(@meerkat)) %>')">
    </div>
  </div>
</div>

<div class="bookings-card sticky">
  <div>
    <p><strong><%= @meerkat.price %></strong> € / day: </p>
  </div>
  <div>
  <%= simple_form_for([@meerkat, Reservation.new]) do |f| %>
    <div class="d-flex justify-content-between mt-3">
      <%= f.input :date_start, as: :string, placeholder: 'Start Date', class: 'form-control show-form', required: false, input_html: {class: "datepicker"}, label: false %>
      <%= f.input :date_end, as: :string, placeholder: 'End Date', class: 'form-control show-form', readonly: 'true', required: false, input_html: {class: "datepicker"}, label: false  %>
    </div>
    <div>
      <%= f.submit "Book Now", class: "btn btn-mustard full-width mb-4" %>
    </div>
    <div>
      <p>Total: <strong><%= @meerkat.price %></strong> € </p>
    </div>
    <% end %>
  </div>
</div>

<div class="show-reviews">
  <div class="mb-3">
    <h2>Reviews</h1>
  </div>

  <div class="review">
    <% @meerkat.reviews.each do |review| %>
      <div class="user-photo-name d-flex align-items-center">
        <div><%= image_tag photo_or_fallback_user(review.user), class: "avatar dropdown-toggle" %></div>
        <div class="mt-3 ml-2"><p><%= review.user.name %></p></div>
      </div>
      <p>Rating: <%= review.rating %></p>
      <p><%= review.comment %></p>
    <% end %>
  </div>

  <% if policy(@meerkat).edit? %>
        <%= link_to "Edit Meerkat", edit_meerkat_path(@meerkat), class: "btn btn-mustard" %>
      <% end %>

      <%= link_to "Back to search page", root_path, class: "btn btn-mustard" %>
</div>
